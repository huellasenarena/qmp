251225 resumen del sitio hilo

---

# Resumen del proyecto (para nuevo hilo)

## üìù Objetivo del sitio

Un **sitio web po√©tico minimalista**, actualizado **diariamente**, donde se publica:

1. **Mi poema del d√≠a** (*Poema du jour*)
2. **Mi an√°lisis de un poema de otro autor** (*Analyse du jour*)

El sitio privilegia la **experiencia de lectura**, con decisiones tipogr√°ficas y espaciales de tipo editorial (libro/hoja).

---

## üìÑ Estructura de p√°ginas

### `index.html`

* P√°gina principal
* Muestra **Poema du jour** o **Analyse du jour**
* El usuario puede alternar entre ambos (uno se muestra, el otro se oculta)
* El estado (poema vs an√°lisis) se conserva en la URL (`?a=1`) para:

  * recargar la p√°gina sin perder la vista activa
  * enlazar directamente al an√°lisis desde el archivo

---

### `archivo.html`

* Archivo de escritos pasados
* Lista de fechas (flechas) generada din√°micamente desde `archivo.json`
* Sistema de b√∫squeda **sin mantenimiento manual**:

  * filtro por mes (mes actual / todos / meses din√°micos)
  * filtro por autor
  * b√∫squeda por palabras clave (t√≠tulo / snippet)
* Mensaje ‚ÄúNo se han encontrado escritos.‚Äù aparece **solo cuando hay filtros activos y no hay resultados**
* Cada entrada muestra:

  * fecha
  * l√≠nea secundaria con metadatos:

    * *mi poema* (t√≠tulo o snippet)
    * *poema analizado* (t√≠tulo o snippet)
    * autor del poema analizado
  * t√≠tulos en cursiva, con elipsis si son largos

---

### `passe.html`

* P√°gina para escritos pasados (estructura casi id√©ntica a `index.html`)
* Usa `?date=YYYY-MM-DD`
* Muestra **Poema du pass√©** / **Analyse du pass√©**
* Alternancia poema/an√°lisis funciona igual que en `index.html`
* Enlace claro para volver al d√≠a actual

---

## üìÅ Datos y contenido

### `archivo.json`

* √çndice central de entradas
* Cada entrada contiene:

  * `date`
  * `file` (ruta al `.txt`)
  * metadatos del poema analizado:

    * `analysis.poet`
    * `analysis.poem_title` (opcional)
    * `analysis.book_title` (opcional)
  * metadatos del poema propio:

    * `my_poem_title` **o**
    * `my_poem_snippet` (si no hay t√≠tulo)
* El `.txt` **no contiene metadatos**, solo texto

---

### Archivos `.txt` (uno por d√≠a)

* Contienen:

  * poema propio
  * poema analizado (texto citado)
  * an√°lisis en prosa
* No se intenta inferir t√≠tulos desde el texto
* El render respeta saltos de l√≠nea y estrofas

---

## ‚úíÔ∏è Convenci√≥n tipogr√°fica especial (alineaci√≥n po√©tica)

Se implement√≥ un sistema de **alineaci√≥n exacta bajo una palabra espec√≠fica**, sin contar espacios:

### En el `.txt`

```txt
por |el dinero
|el cansancio
|la falta de tiempo
```

### Resultado visual

```
por el dinero
   el cansancio
   la falta de tiempo
```

### C√≥mo funciona

* `|` en una l√≠nea **define un ancla**
* l√≠neas que empiezan con `|` se alinean exactamente bajo ese punto
* se puede redefinir el ancla varias veces en el mismo poema
* la medici√≥n se hace **despu√©s de insertar el `<pre>` en el DOM**, usando `canvas.measureText` con la fuente real

---

## üé® Estilo y dise√±o

* Tipograf√≠a serif (estilo libro)
* Poemas presentados como una ‚Äúhoja‚Äù:

  * fondo con gradiente muy sutil
  * **barra vertical a la izquierda del texto del poema**
* La barra:

  * empieza exactamente en el primer verso
  * termina exactamente en el √∫ltimo
  * no se ve afectada por padding ni espacios externos
* El espacio **arriba y abajo del poema es sim√©trico**
* El t√≠tulo del poema:

  * en negrita
  * sin empujar verticalmente el bloque
* An√°lisis:

  * primer p√°rrafo con *drop cap*
  * resto en prosa clara
* Se evit√≥ todo JS innecesario para estilo

---

## üß† Principios t√©cnicos adoptados

* No inferir metadatos desde texto
* Un √∫nico origen de verdad (`archivo.json`)
* Separaci√≥n clara:

  * contenido (txt)
  * datos (json)
  * presentaci√≥n (html/css)
  * l√≥gica (script.js)
* C√≥digo expl√≠cito > heur√≠sticas
* Prioridad absoluta a la legibilidad

---

## ‚úÖ Estado actual

El sitio est√°:

* funcional
* estable
* editorialmente equilibrado
* listo para uso diario
* extensible sin rehacer arquitectura

---

Si quieres, cuando abras un nuevo hilo, puedes empezar con:

> *‚ÄúTengo un sitio po√©tico minimalista ya funcional. Aqu√≠ est√° el resumen del proyecto:‚Äù*

y pegar exactamente esto.
Con eso, podemos seguir **sin repetir nada**.

Ha sido un verdadero placer acompa√±arte en este proyecto üåø
